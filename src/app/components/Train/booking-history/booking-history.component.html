<ion-app>
  <ion-content>
    <ion-grid>
      <ion-row>
        <ion-col size-xs="12" size-sm="12" size-md="12" size-lg="12" size-xl="12" class="ion-padding">
          <form [formGroup]="agtLstGP" (ngSubmit)="AgtSrhBtn($event)">
            <ion-row class="bdr ion-padding">
              <ion-col size-xs="12" size-sm="12" size-md="12" size-lg="12" size-xs="12">
                <ion-radio-group value="Id">
                  <ion-radio value="Id" (click)="AgentActive()"></ion-radio>
                  <ion-label class="R-label">Agent Id</ion-label>
                  <ion-radio value="Date" (click)="DateActive()"></ion-radio>
                  <ion-label class="R-label">Date Wise</ion-label>
                </ion-radio-group>
              </ion-col>
              <ion-col size-xs="12" size-sm="12" size-md="3" size-lg="3" size-xl="3">
                <fieldset [disabled]="!dateDis">
                  <input formControlName="RAID" maxlength="8" min="8" placeholder="Agent ID" (keydown)="btnActive()">
                </fieldset>
              </ion-col>
              <ion-col size-xs="12" size-sm="12" size-md="3" size-lg="3" size-xl="3">
                <fieldset [disabled]="dateDis">
                  <input formControlName="FROM" type="date" [max]="maxDate" (change)="btnActive()">
                </fieldset>
              </ion-col>
              <ion-col size-xs="12" size-sm="12" size-md="3" size-lg="3" size-xl="3">
                <fieldset [disabled]="dateDis">
                  <input formControlName="TO" type="date" [max]="maxDate" (change)="btnActive()">
                </fieldset>
              </ion-col>
              <ion-col size-xs="12" size-sm="12" size-md="3" size-lg="3" size-xl="3">
                <button class="ccL-btn" type="submit" [disabled]="btn">
                  <ion-icon slot="start" name="search"></ion-icon> Search Agents
                </button>
              </ion-col>
            </ion-row>
          </form>

          <table class="ion-text-center" *ngIf="tabShow">
            <thead>
              <tr>
                <th class="padding">
                  #
                </th>
                <th class="padding">
                  BookingID
                </th>
                <th class="padding">
                  EmailID
                  <ion-icon name="caret-down-outline" *ngIf="down1" (click)="sortMailAsc()"
                    style="cursor: pointer; color: red;"></ion-icon>
                  <ion-icon name="caret-up-outline" *ngIf="up1" (click)="sortMailDesc()"
                    style="cursor: pointer; color: red;"></ion-icon>
                </th>
                <th class="padding">
                  FID 
                </th>
                <th class="padding">
                  RID
                </th>
                <th class="padding">
                  PNR
                </th>
                <th class="padding">
                  Amount
                  <ion-icon name="caret-down-outline" *ngIf="down" (click)="sortBalAsc()"
                    style="cursor: pointer; color: red;"></ion-icon>
                  <ion-icon name="caret-up-outline" *ngIf="up" (click)="sortBalDesc()"
                    style="cursor: pointer; color: red;"></ion-icon>
                </th>
                <th class="padding">
                  Status
                </th>
                <th class="padding">
                  Dep Date
                </th>
                <th class="padding">
                  Time
                  <ion-icon name="caret-down-outline" *ngIf="down2" (click)="sortDateAsc()"
                    style="cursor: pointer; color: red;"></ion-icon>
                  <ion-icon name="caret-up-outline" *ngIf="up2" (click)="sortDateDesc()"
                    style="cursor: pointer; color: red;"></ion-icon>
                </th>
                <th class="padding">
                  Details
                </th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let d of agtList, index as i" class="hvr">
                <td style="color: #017959;">{{i+1}}</td>
                <td>{{d.BOOKING_ID}}</td>
                <td>{{d.EMAIL_ID}}</td>
                <td>{{d.FID}}</td>
                <td>{{d.RID}}</td>
                <td>{{d.PNR}}</td>
                <td>{{d.AMOUNT | currency:'INR'}}</td>
                <td><span [style.background-color]="d.STATUS==false ? 'red' : 'green'" class="dot"></span></td>
                <td>{{d.DEP_DATE | date: 'dd/MM/yyyy'}}</td>
                <td>{{d.ETIME | date: 'dd/MM/yyyy'}} {{d.ETIME | date:"HH:mm"}}</td>
                <td *ngIf="d.PNR!==''" style="color: red; text-decoration: underline;cursor: pointer"
                  (click)="PNR(d)">Pnr Details
                </td>
                <td *ngIf="d.PNR==''" style="text-decoration: underline;cursor: pointer" (click)="PNR(d)">
                  Details
                </td>
              </tr>
            </tbody>
          </table>

          <table class="ion-text-center" *ngIf="skeltonShow">
            <thead>
              <tr>
                <th class="padding">
                  #
                </th>
                <th class="padding">
                  BookingID
                </th>
                <th class="padding">
                  EmailID
                </th>
                <th class="padding">
                  FID
                </th>
                <th class="padding">
                  RID
                </th>
                <th class="padding">
                  PNR
                </th>
                <th class="padding">
                  Amount
                </th>
                <th class="padding">
                  Status
                </th>
                <th class="padding">
                  Dep Date
                </th>
                <th class="padding">
                  Time
                </th>
                <th class="padding">
                  Details
                </th>
              </tr>
            </thead>
            <tbody>
              <tr class="hvr custom-skeleton" *ngFor="let x of skArr">
                <td>
                  <ion-skeleton-text animated style="width: 90%"></ion-skeleton-text>
                </td>
                <td>
                  <ion-skeleton-text animated style="width: 90%"></ion-skeleton-text>
                </td>
                <td>
                  <ion-skeleton-text animated style="width: 90%"></ion-skeleton-text>
                </td>
                <td>
                  <ion-skeleton-text animated style="width: 90%"></ion-skeleton-text>
                </td>
                <td>
                  <ion-skeleton-text animated style="width: 90%"></ion-skeleton-text>
                </td>
                <td>
                  <ion-skeleton-text animated style="width: 90%"></ion-skeleton-text>
                </td>
                <td>
                  <ion-skeleton-text animated style="width: 90%"></ion-skeleton-text>
                </td>
                <td>
                  <ion-skeleton-text animated style="width: 90%"></ion-skeleton-text>
                </td>
                <td>
                  <ion-skeleton-text animated style="width: 90%"></ion-skeleton-text>
                </td>
                <td>
                  <ion-skeleton-text animated style="width: 90%"></ion-skeleton-text>
                </td>
                <td>
                  <ion-skeleton-text animated style="width: 90%"></ion-skeleton-text>
                </td>
              </tr>
            </tbody>
          </table>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-content>
</ion-app>